<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Pomodoro App</title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"/>
    <!-- JQ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- <script src="clock.js"></script> -->
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <style>

*{
    margin: 0;
    padding: 0;
    font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    box-sizing: border-box;
  }

body {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}  

.container{
    width: 800px;
    height: 600px;
    background-color: #f5f5f5;
    border-radius: 15px;
}

h1 {

    text-align: center;
    font-family: Pacifico, sans-serif;
    color: rgb(92, 91, 91);
    font-size: 48px;
}

#titleDiv {
    width: 800px;
    height: 100px;
    margin-top: 10px auto;
    display: flex;
    justify-content: center;
    align-items: center;
}

#vinylTable {
    width: 540px;
    height: 500px;
    margin: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}
#vinylBoxTop{
    width: 540px;
    height: 460px;
    background-color: white;
    opacity: 40%;
    border-radius: 15px;
    box-shadow: 5px 5px black;
    position: absolute;
    z-index: 1;
  
}

#vinylBox {
    width: 540px;
    height: 450px;
    background-color: grey;
    border-radius: 15px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    box-shadow: 5px 5px black;
}

#vinylMain {
    width: 540px;
    height: auto;

}

#vinylNeedle {
    height: 400px;
    width: auto;
    position: absolute;
    right: 35px;
    top: 20px;
    /* transition: 1.5s ease; */
}

.needleMove{
    /* transition: 1.5s ; */
    transform:rotate(25deg);
    transform-origin:60% 20% ;
}

#timeTable {
    width: 150px;
    height: 60px;
    border-radius: 20px;
    opacity: 60%;
    font-size: 30px;
    /* background-color: #f5f5f5; */
    position: absolute;
    left: 144px;
    top: 214px;
    z-index: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.timecount {
    width: 35px;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
}

.timecount span {
    width: 40px;
    height: 40px;
    text-shadow: 1px 1px 3px black;
}


.theBtn {
    width: 30px;
    height: 160px;
    position: absolute;
    top: 265px;
    right: 21px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
}

#minBtn {
    width: 28px;
    height: 28px;
    background-color: rgb(209, 209, 209);
    border-radius: 5px;
    box-shadow: 3px 3px 2px rgb(99, 98, 98);
    /* position: relative; */
    transition: 0.3s;
}

/* #edit {
    width: 40px;
    height: 249px;
    position: absolute;
    right: 16px;
    top: 220px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
}

.editBtn{
    width: 28px;
    height: 25px;
    font-size: 17px;
    text-align: center;
    padding: auto;
    border-radius: 5px;
    border: none;
    background-color: #f5f5f5;
    color: rgb(88, 88, 88);
} */








    </style>

  </head>
  <body>
    <div class="container">
    
      <div id="titleDiv">
        <h1>Vinyl Pomodoro</h1>
      </div>

      <div id="vinylTable">
          <!-- <div id="vinylBoxTop"></div> -->
          <div id="vinylBox">
            <img id="vinylNeedle" src="needle.png" >
             
            <img id="vinylMain" src="vinyl.png" >
          </div>

          <div id="timeTable">
            <div class="timecount">
                <span id="minutesTimer">00</span>
            </div>

            <div class="timecount">
                <span>:</span>
            </div>

            <div class="timecount">
                <span id="secondTimer">00</span>
            </div>
        </div>
        <!-- <div id="edit">
            <button id="plusBtn" class="editBtn"><i class="fas fa-plus"></i></button>
            <button id="minusBtn" class="editBtn"><i class="fas fa-minus"></i></button>
        </div> -->

        <div class="theBtn">
            <div id ="minBtn"></div>
        </div>
      </div>

      
    </div>

    

    <script type="text/javascript">

    let minTime = $("#minutesTimer");
    let secTime = $("#secondTimer");
    let minValue = $("#minutesTimer").val();


    $(".theBtn").mousedown((e)=>{
        let y = e.offsetY;
        let moveBtn = $("#minBtn");
        moveBtn.css("position","absolute");
        moveBtn.css("top",`${y}px`);
        var changeMin = Math.ceil(y/2/5)*5;
        minTime.text(changeMin);

    });

   
        $("#vinylNeedle").click(()=>{
        secTime.text(59);
        minCount ();
        let minutes_interval = setInterval(minCount, 60000);
        let seconds_interval = setInterval(secCount, 1000);

        $("#titleDiv").click(()=>{
            let pauseTimeMin = minTime.text();
            console.log(pauseTimeMin);
            clearInterval(minutes_interval);
            clearInterval(seconds_interval);
            $("#vinylNeedle").removeClass("needleMove");
        })
    });
    
    


    function minCount (){
        let startM= minTime.text()-1;
        minTime.text(startM);
    }

    function secCount(){
        if (secTime.text() <= 0){
            secTime.text(60);
            let startS= secTime.text()-1;
            secTime.text(startS);
        } else {
            let startS= secTime.text()-1;
            secTime.text(startS);
        }
        

        
       
    }
    

    
    

    $("#vinylNeedle").click(()=>{
        $("#vinylNeedle").toggleClass("needleMove");
    });
    
    
    


    
    

   

    
    // var dragBtn;
    // move();
    // function move(){
    //     var element = $("#minBtn");
    //     element.css("position","absolute");
    //     dragBtn = element;
     
    // dragBtn.mouseup(()=>{
    //     dragBtn = null;
    // })

    // dragBtn.mousedown(()=>{
    //         $(".theBtn").mousemove((e)=>{
    //         let y = e.offsetY;
    //         // let y2 = ;
    //         console.log(y);
    //         dragBtn.css("top",`${y}px`);
    //     });
    // });
    // }
    </script>

  </body>
</html>